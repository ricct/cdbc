<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RiCCT">
        <link rel="canonical" href="https://cdbc.ricct.com/setupservice/configservice/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Config CDBC service - CDBC(β Version)</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-140931398-1', 'cdbc.ricct.com');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">CDBC(β Version)</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li >
                        <a href="../../start/">Getting Started</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup CDBC Service <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../setupservice/">Index</a>
</li>
                            
<li >
    <a href="../installiis/">Install IIS</a>
</li>
                            
<li >
    <a href="../deployservice/">Deploy CDBC service</a>
</li>
                            
<li class="active">
    <a href="./">Config CDBC service</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../deployservice/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li class="disabled">
                        <a rel="prev" >
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#config-cdbc-service">Config CDBC service</a></li>
        <li class="main "><a href="#configsections">&lt;configSections&gt;</a></li>
        <li class="main "><a href="#cdbcservice">&lt;cdbcService&gt;</a></li>
            <li><a href="#userauthentication">&lt;userAuthentication&gt;</a></li>
            <li><a href="#clientapplicationauthentication">&lt;clientApplicationAuthentication&gt;</a></li>
            <li><a href="#idps">&lt;idps&gt;</a></li>
            <li><a href="#connectionstrings">&lt;connectionStrings&gt;</a></li>
            <li><a href="#cdbcserviceinfo">&lt;cdbcServiceInfo&gt;</a></li>
        <li class="main "><a href="#log4net">&lt;log4net&gt;</a></li>
        <li class="main "><a href="#servicemodel">&lt;serviceModel&gt;</a></li>
        <li class="main "><a href="#systemruntimecaching">&lt;system.runtime.caching&gt;</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="config-cdbc-service">Config CDBC service</h1>
<hr />
<h1 id="configsections"><code>&lt;configSections&gt;</code></h1>
<p><strong>XML</strong></p>
<pre><code class="XML">  &lt;configSections&gt;
    &lt;section name=&quot;log4net&quot; type=&quot;log4net.Config.Log4NetConfigurationSectionHandler, log4net&quot;/&gt;
    &lt;section name=&quot;cdbcService&quot; type=&quot;CdbcServiceUtils.Config.CdbcConfigurationSectionHandler, CdbcServiceUtils&quot;/&gt;
  &lt;/configSections&gt;
</code></pre>

<p><strong>Description</strong></p>
<pre><code>Used to add configuration section declaration.Please don't change it.
</code></pre>
<h1 id="cdbcservice"><code>&lt;cdbcService&gt;</code></h1>
<p><strong>XML</strong></p>
<pre><code class="XML">  &lt;cdbcService&gt;
    &lt;userAuthentication authMethod=&quot;None or UserPsk&quot;&gt;
      &lt;authenticatedUsers&gt;
        &lt;add userId=&quot;&quot; userPsk=&quot;&quot; comment=&quot;&quot;/&gt;
      &lt;/authenticatedUsers&gt;
    &lt;/userAuthentication&gt;
    &lt;clientApplicationAuthentication authMethod=&quot;None or ApplicationPsk&quot;&gt;
      &lt;authenticatedApplications&gt;
        &lt;add applicationId=&quot;&quot; applicationPsk=&quot;&quot; comment=&quot;&quot; /&gt;
      &lt;/authenticatedApplications&gt;
    &lt;/clientApplicationAuthentication&gt;
    &lt;idps enabled=&quot;true&quot; accessBlockFailureCount=&quot;3&quot; accessBlockSeconds=&quot;5&quot; failureResetSeconds=&quot;600&quot;/&gt;
    &lt;connectionStrings&gt;
      &lt;add name=&quot;&quot; connectionString=&quot;&quot; providerName=&quot;&quot;/&gt;
    &lt;/connectionStrings&gt;
    &lt;cdbcServiceInfo serviceVersion=&quot;4.5.0.1905&quot; supportedClientVersion=&quot;4.5.0.1905&quot; infoHtmlFile=&quot;index.html&quot;/&gt;
  &lt;/cdbcService&gt;

</code></pre>

<p><strong>Description</strong></p>
<pre><code>Configurations used by cdbcService.
</code></pre>
<h2 id="userauthentication"><code>&lt;userAuthentication&gt;</code></h2>
<pre><code>Only authenticated user can access cdbc service.
You can configure user authorization method and psks in this session.
</code></pre>
<p><strong>Attributes</strong>  </p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">authMethod</td>
<td align="left">User authorization method.</td>
<td align="left"><code>None</code> or <code>UserPsk</code></td>
<td align="left"><code>None</code> - No user authorization. Any user can access the service. <br/> <code>UserPsk</code> - Use Pre-Shared Key for each user.</td>
</tr>
</tbody>
</table>
<h3 id="authenticatedusers"><code>&lt;authenticatedUsers&gt;</code></h3>
<p><add userId="" userPsk="" comment=""/>
<strong>Description</strong></p>
<pre><code>Authenticated user list can be stored in the authenticatedUsers section. 
You can use the AuthenticatedUsersCollection to retrieve authenticated users from application configuration files. 
Its properties map to authenticated user attributes, allowing you to retrieve a single authenticated user specifying the userId.
</code></pre>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">userId</td>
<td align="left">User ID</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">userPsk</td>
<td align="left">User psk (16 digital)</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">comment</td>
<td align="left">Comment of the user, It will not be used by the system</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h2 id="clientapplicationauthentication"><code>&lt;clientApplicationAuthentication&gt;</code></h2>
<p><strong>Description</strong>
    Only authenticated client application can access cdbc service.
    You can configure client application authorization method and psks in this session</p>
<p><strong>Attributes</strong>  </p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">authMethod</td>
<td align="left">Client application authorization method.</td>
<td align="left"><code>None</code> or <code>ApplicationPsk</code></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="authenticatedapplications"><code>&lt;authenticatedApplications&gt;</code></h3>
<p><add applicationId="" applicationPsk="" comment="" /></p>
<p><strong>Description</strong></p>
<pre><code>Authenticated applications list can be stored in the authenticatedApplications section. 
You can use the AuthenticatedApplicationsCollection to retrieve authenticated applications from application configuration files. 
Its properties map to authenticated application attributes, allowing you to retrieve a single authenticated applcaition specifying the applicationId.
</code></pre>
<p><strong>Attributes</strong></p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">applicationId</td>
<td align="left">Applicaion ID</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">applicationPsk</td>
<td align="left">Applicaion psk (16 digital)</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">comment</td>
<td align="left">Comment of the applicaion, It will not be used by the system</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h2 id="idps"><code>&lt;idps&gt;</code></h2>
<p><strong>Description</strong></p>
<pre><code>Idps is used to block illegal access. 
The IP address whill be blocked for a specified time period while authorization failed certain time.
</code></pre>
<p><strong>Attributes</strong>  </p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">enabled</td>
<td align="left">Enable or disable Idps. If Idps is enabled , Cdbc service will block the IP address after authorization failed certain times.</td>
<td align="left"><code>true</code> or <code>false</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">accessBlockFailureCount</td>
<td align="left">Set the failure count while start to block access.</td>
<td align="left">int</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">accessBlockSeconds</td>
<td align="left">How many seconds will the IP be blocked.</td>
<td align="left">int</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">failureResetSeconds</td>
<td align="left">How many seconds will the failure count be reset.</td>
<td align="left">int</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h2 id="connectionstrings"><code>&lt;connectionStrings&gt;</code></h2>
<p><strong>Description</strong></p>
<pre><code>Connection strings used by cdbc service can be stored in the connectionStrings section. 
Please refer microsoft's document to see the details about connectionStrings.
</code></pre>
<h2 id="cdbcserviceinfo"><code>&lt;cdbcServiceInfo&gt;</code></h2>
<p><strong>Description</strong></p>
<pre><code>Information of the service version,supported client version etc.
You should not change any value unless get our instruction.
</code></pre>
<p><strong>Attributes</strong>  </p>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
<th align="left">Value</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">serviceVersion</td>
<td align="left">Current version of the Cdbc service.</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">supportedClientVersion</td>
<td align="left">Supported client version. The client whose version &gt;=supportedClientVersion will be supported.</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">infoHtmlFile</td>
<td align="left">The html file to be display while customer access service url.</td>
<td align="left">String</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h1 id="log4net"><code>&lt;log4net&gt;</code></h1>
<p><strong>XML</strong></p>
<pre><code class="XML">  &lt;log4net&gt;
    &lt;appender name=&quot;RollingLogFileAppenderSystem&quot; type=&quot;log4net.Appender.RollingFileAppender,log4net&quot;&gt;
    ...
    &lt;/appender&gt;
    &lt;appender name=&quot;RollingLogFileAppenderAudit&quot; type=&quot;log4net.Appender.RollingFileAppender,log4net&quot;&gt;
    ...
    &lt;/appender&gt;
    &lt;logger name=&quot;audit&quot;&gt;
      &lt;appender-ref ref=&quot;RollingLogFileAppenderAudit&quot;/&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;system&quot;&gt;
      &lt;appender-ref ref=&quot;RollingLogFileAppenderSystem&quot;/&gt;
    &lt;/logger&gt;
  &lt;/log4net&gt;

</code></pre>

<p><strong>Description</strong></p>
<pre><code>Cdbc use log4net to log system and audit log.  
Please refer log4net's document to see the details.
</code></pre>
<h1 id="servicemodel"><code>&lt;serviceModel&gt;</code></h1>
<p><strong>XML</strong></p>
<pre><code class="XML">  &lt;system.serviceModel&gt;
    &lt;bindings&gt;
      &lt;basicHttpBinding&gt;
        &lt;binding maxReceivedMessageSize=&quot;102400000&quot;/&gt;
      &lt;/basicHttpBinding&gt;
      &lt;customBinding&gt;
        &lt;binding name=&quot;helpPage&quot;&gt;
          &lt;textMessageEncoding messageVersion=&quot;None&quot;/&gt;
          &lt;httpTransport/&gt;
        &lt;/binding&gt;
      &lt;/customBinding&gt;
    &lt;/bindings&gt;
    &lt;services&gt;
      &lt;service name=&quot;CdbcService&quot;&gt;
        &lt;endpoint address=&quot;service&quot; binding=&quot;basicHttpBinding&quot; contract=&quot;ICdbcService&quot;/&gt;
        &lt;endpoint address=&quot;&quot; binding=&quot;customBinding&quot; bindingConfiguration=&quot;helpPage&quot; contract=&quot;IHelpPage&quot;/&gt;
      &lt;/service&gt;
    &lt;/services&gt;
    &lt;behaviors&gt;
      &lt;serviceBehaviors&gt;
        &lt;behavior&gt;
          &lt;!-- To avoid disclosing metadata information, set the values below to false before deployment --&gt;
          &lt;serviceMetadata httpGetEnabled=&quot;false&quot; httpsGetEnabled=&quot;false&quot;/&gt;
          &lt;!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information --&gt;
          &lt;serviceDebug includeExceptionDetailInFaults=&quot;false&quot; httpHelpPageEnabled=&quot;false&quot; httpsHelpPageEnabled=&quot;false&quot; /&gt;
        &lt;/behavior&gt;
      &lt;/serviceBehaviors&gt;
    &lt;/behaviors&gt;
    &lt;protocolMapping&gt;
      &lt;add binding=&quot;basicHttpsBinding&quot; scheme=&quot;https&quot; /&gt;
    &lt;/protocolMapping&gt;
    &lt;serviceHostingEnvironment aspNetCompatibilityEnabled=&quot;true&quot; multipleSiteBindingsEnabled=&quot;true&quot; /&gt;
  &lt;/system.serviceModel&gt;

</code></pre>

<p><strong>Description</strong></p>
<pre><code>serviceModel session include some wcf configurations for cdbc service .
Don't modify it unless you have deep knowledge about wcf.
Please refer Microsoft's document to see the details.
</code></pre>
<h1 id="systemruntimecaching"><code>&lt;system.runtime.caching&gt;</code></h1>
<p><strong>XML</strong></p>
<pre><code class="XML">   &lt;system.runtime.caching&gt;
    &lt;memoryCache&gt;
      &lt;namedCaches&gt;
        &lt;add name=&quot;Default&quot; physicalMemoryLimitPercentage=&quot;20&quot;/&gt;
      &lt;/namedCaches&gt;
    &lt;/memoryCache&gt;
  &lt;/system.runtime.caching&gt;
</code></pre>

<p><strong>Description</strong></p>
<pre><code>CDBC use memoryCache to improve performance. You can customize the values of memoryCache.
Please refer Microsoft's document to see the details.
</code></pre>
<hr />
<p><a href="../../setupservice/setupservice/">Back to index page</a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright RiCCT and/or its affiliates. All rights reserved.</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
